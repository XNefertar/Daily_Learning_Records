# Day2

今天我们谈谈HTTPS

## HTTPS

之前我们说过HTTP是不安全的，于是，大佬们提出了HTTPS，以解决HTTP不安全的问题，这个S，不是safe，是secure（没错，我一开始也猜错了）

所谓HTTPS，就是HTTP通过一种加密算法，对用户传输数据进行加密，从而避免被中间人窃取的一种安全通信协议，其中的加密算法，有SSL/TLS加密，保证其不被修改，窃听...我特意摘抄了部分ChatGPT的说法，以让这篇随笔显得更为专业：

>**HTTPS：超文本传输安全协议**
>
>**HTTPS**（HyperText Transfer Protocol Secure）是**HTTP协议**与**SSL/TLS加密**结合的一种安全通信协议，用于确保数据在客户端（如浏览器）与服务器之间的传输过程中不被窃听、篡改或伪造。相比HTTP，HTTPS提供了**身份认证、数据完整性**和**机密性**。

## 加密

好，介绍完本期的主题后，是不是意味着已经结束呢？

当然不是，我们先“请循其本”，回到用户最初的诉求——为什么我们需要加密呢？有人说这不是废话吗，不加密你不跟裸奔一个样吗。。。

确实，现在信息安全越来越受到人们的重视，在使用HTTP的年代，跟网上裸奔其实没有什么实质区别，就像我之前写的网络demo小组件一样，只要你是HTTP协议，甭管你是TCP，UDP还是其他啥协议，也不管你是GET方法，POST方法（话说POST方法会在用户输密码时将其隐藏，但总有种掩耳盗铃的感觉），使用我之前介绍的抓包工具（postman...），你传的所有信息，统统给你抓出来；

所以HTTPS协议应运而生，为什么要加密也变成一个设问句。。。下面我就来循序渐进的介绍一些加密方法：

### 对称加密

先说特点：一个密钥（这玩意读作"mi yue"，但我一般习惯读"mi yao"，想考普通话的同学注意了，这是个考点：）），速度快。

有同学就要问了，什么是密钥？你可以理解成一把钥匙，这把钥匙可以上锁和解锁，对应的就是加密和解密过程。

为什么有这两个特点呢？听我说完你就懂了：

假设我现在有一篇论文要传，几万字的那种，我怎么传？直接传吗？（专业点说应该是明文传输）——那我说这么多白说了，不加密等于裸奔！

那有人就要问了，怎么加密呢？——对称加密规定：加密和解密使用__相同的密钥__，客户端和服务端使用该密钥进行加密和解密操作；

说人话就是，你和服务器端（比如腾讯啦，B站啦等等）__共用一把钥匙__（这也是它为什么叫做对称加密的原因），然后你想把数据传到服务器，你就把数据写在纸上，放到一个箱子里（可以是任何东西，这里只是做个比喻），用你的钥匙上锁，他那边收到箱子后，就用一把相同的钥匙打开锁，读取里面的数据；

他要是想给你发数据呢，也是一样的；

这就是特点里说的一把密钥，至于速度为什么快呢，因为这里全程只有一把密钥参与，这么说可能没有说服力，等接下来介绍其他的加密方法时，你就理解为什么说他快了。

这时，有聪明的同学就要问了——为什么它们可以有一样的钥匙呢？好问题，因为这个东西是无解的，因为你如果想只通过单纯的对称加密算法实现加密功能的话，抱歉，此题无解，按照专业的说法，这个问题叫做：

> 单纯使用**对称加密**在**数据传递**中会面临**密钥交换和管理**等安全问题

形象点来说就是你没办法保证服务端和客户端具有相同的密钥！！！

有同学可能会问，通过网络传过去不就行了？请问怎么传，明文传还是密文传？

明文传？万一黑客中途给你一截断，反正是明文，黑客也能看得懂，也能用起来，你开开心心的拿着密钥，想着发一些隐私数据给你的服务端，还幻想着自己有着密钥，黑客早就用你传的密钥拿到了你的信息，然后明码标价的出现在一些黑商手里，而你还在沾沾自喜(：）)

那密文传呢？你一加密，请问没有对应钥匙的服务端怎么知道你传了什么，这个世界上除了你就没人能获取你的信息了(：( )

介绍完了这些，下面我们来简要说说它的加密原理，还是那篇论文，我先对它对散列算法（英文是hash function，所以为了方便理解，我一般叫它hash算法）处理，常见的有MD5算法，SHA-256（这个的安全性更高，被广为使用），随后会形成一个固定长度的字符串，一般称之为数据摘要（也叫数据指纹），而密钥就是对数据摘要做处理，形成数据签名，可以思考一下，hash算法可逆吗（不可逆，你能根据哈希表推出来原始字符长啥样吗？），加密解密呢（肯定可逆，这个不可逆密码学就不复存在了：）），这就是加密解密的一般过程（只是简化模型，为了便于理解，实际的加密解密过程极为复杂，想要详细了解可以看看密码学对应的书籍）

所以说，单纯的依赖对称加密是行不通的，你永远无法实现安全的信息传递！！！

那怎么办？别着急，我们继续往下看：



### 非对称加密

顾名思义，这种加密方式应该是存在不止一个密钥的（确实，你猜对了），下面我就来介绍一下这种加密方式：

这种加密方式需要服务端形成一对密钥，分别叫做公钥（Public，就是大家都能看见的）和私（Private，就是只有服务端能看见的）钥，有了这两个东西，就可以实现安全通信了吗？....

首先服务端将公钥传到客户端，以后客户端想要发消息时，先通过公钥加密，然后传到服务端，服务端通过自己的私钥完成解密，获取对应信息，这个过程中即使黑客拿到了公钥，但是他没有服务端的私钥，就无法打开被公钥锁住的信息，于是信息被安全传递？（不是打错符号了，这是伏笔：））

那我服务端想传信息呢？聪明的你肯定想到了客户端再维持一个公私钥匙对不就行了，虽然可行，但你不觉得花销太大了吗（还记得我之前说的为什么对称加密快了吧，你看看这里的钥匙有多少把，就知道他有多耗时了！！）

你是不是觉得开销这么大，肯定是安全的吧（哈哈，还记得我上面的伏笔吗，这种通过单纯的非对称加密，也是无法实现数据的安全传输的！！！），是不是有种白努力的无力感：），那有人要问了，为什么啊？

你仔细想想，虽然你传公钥不怕被黑客知道，但是如果我把公钥整个替换了会怎么样呢？？？

比如说，你作为客户端，向服务端传了一个公钥C，这时候我作为一个黑客，看到了你传的公钥，我给你来个偷梁换柱，把你的公钥换成我的公钥，比方说H，发送给服务端，然后把你的公钥保存；

随后服务端接收到了公钥，利用公钥对数据进行加密，向客户端传送，又被我这个黑客截获，因为你使用的是我的公钥，所以我可以用我的私钥解开，获取里面的信息，然后再用我保存下来的你的公钥加密，最后发送给你；

这时候的你收到消息，你看到的是一个带着你的公钥的信息，你会质疑它被其他人动过吗——不，你不会；然后你就开开心心的解密，读取服务端给你的信息，窃喜终于可以进行安全的信息传递了，谁知你的信息又一次的明码标价被挂在了黑商手上。。。



这么说难道没有方法限制黑客盗取我的信息了吗？不，肯定有，欲知后事如何，且听下回分解！